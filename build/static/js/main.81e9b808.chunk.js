(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{23:function(e,t,s){"use strict";s.r(t);var a=s(1),i=s.n(a),c=s(11),r=s.n(c),n=s(12),l=s(13),o=s(8),d=s(15),j=s(14),h=s(9),b=s(5),u=s(7),m=s(0);var O=function(e){var t=Object(a.useState)(!1),s=Object(h.a)(t,2),i=s[0],c=s[1],r=Object(a.useState)(!1),n=Object(h.a)(r,2),l=n[0],o=n[1],d=Object(a.useState)(!1),j=Object(h.a)(d,2),O=j[0],v=j[1],x=O?"button-clicked":"button-not-clicked";return Object(a.useEffect)((function(){if(!0===l)for(var e=0;e<1;e++)o(!1)}),[i,l]),Object(m.jsx)(b.a,{className:"display-card-body card-group mb-3 h-100",children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)(b.a.Link,{href:e.link,children:Object(m.jsx)(b.a.Img,{src:e.imgThumbnail,className:"card-img"})}),Object(m.jsxs)(b.a.Body,{children:[Object(m.jsx)(b.a.Title,{children:Object(m.jsx)("strong",{children:e.name})}),Object(m.jsx)(b.a.Subtitle,{className:"mb-2 text-muted",children:e.id}),Object(m.jsx)(b.a.Subtitle,{className:"mb-2 card-type",children:e.kind}),Object(m.jsx)(b.a.Text,{children:e.artistName}),Object(m.jsxs)(u.a,{variant:"success",className:"".concat(x," card-links"),id:"addFavBtn",onClick:function(){return function(){null===sessionStorage.getItem("favouriteList")&&sessionStorage.setItem("favouriteList",JSON.stringify([]));var t=JSON.parse(sessionStorage.getItem("favouriteList"));v(!0);for(var s={id:e.id,key:e.key,kind:e.kind,link:e.link,name:e.name,artistName:e.artistName,imgThumbnail:e.imgThumbnail},a=0;a<t.length;a++)if(t[a].name===s.name)return c(!i),void alert("You've already added this item to your favourites");t.push(s),sessionStorage.setItem("favouriteList",JSON.stringify(t)),alert("This Item added to Favorites"),o(!0),window.location.reload()}()},children:["Favourite ",Object(m.jsx)("i",{className:"far fa-heart"})]})]})]})})};s(21);var v=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).handleSubmit=a.handleSubmit.bind(Object(o.a)(a)),a.state={error:null,option:"all",search:"",results:[],reload:!1},a}return Object(l.a)(s,[{key:"handleSubmit",value:function(e){var t=this;if(""===this.state.search)return alert("Please enter search details");this.setState({results:[]}),e.preventDefault(),fetch("/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({search:this.state.search,option:this.state.option})}).then((function(e){return e.json()})).then((function(e){t.setState({results:e}),t.forceUpdate(),console.log(t.state)})).catch((function(e){alert("Server is currently offline. Please try again later."),t.setState(e),console.log(e)}))}},{key:"searchResults",value:function(){return this.state.results.results.map((function(e){return Object(m.jsx)(O,{id:e.collectionId,kind:e.kind,link:e.trackViewUrl,name:e.trackName,artistName:e.artistName,imgThumbnail:e.artworkUrl100},e.collectionArtistId)}))}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"search-form",id:"Search",children:[Object(m.jsx)("section",{className:"two",children:Object(m.jsxs)("div",{className:"search",children:[Object(m.jsxs)("h4",{children:["Welcome to the Apple iStore ",Object(m.jsx)("br",{})," Please browse our catalogues by searching below ",Object(m.jsx)("br",{}),"Be sure to save your favourites to see them later "]}),Object(m.jsx)("h1",{className:"search-head",children:"Search"}),Object(m.jsxs)("form",{className:"search-bar-form",onSubmit:this.handleSubmit,children:[Object(m.jsx)("input",{type:"text",placeholder:"Search iStore",onChange:function(t){return e.setState({search:t.target.value})}}),Object(m.jsx)("div",{className:"dropdown",children:Object(m.jsxs)("select",{className:"drop-btn form-select form-select-lg mb-3 mt-3",onChange:function(t){return e.setState({option:t.target.value})},children:[Object(m.jsx)("option",{value:"all",children:"All"}),Object(m.jsx)("option",{value:"movie",children:"Movies"}),Object(m.jsx)("option",{value:"music",children:"Music"}),Object(m.jsx)("option",{value:"podcast",children:"Podcasts"}),Object(m.jsx)("option",{value:"audiobook",children:"Audiobook"}),Object(m.jsx)("option",{value:"shortFilm",children:"Short Film"}),Object(m.jsx)("option",{value:"tvShow",children:"TV Shows"}),Object(m.jsx)("option",{value:"ebook",children:"Ebooks"})]})}),Object(m.jsxs)(u.a,{type:"submit",variant:"warning",className:"btn btn-info search-btn search-button",children:["Search ",Object(m.jsx)("i",{className:"fa fa-search"})]})]})]})}),Object(m.jsx)("section",{className:"results",children:Object(m.jsx)("div",{className:"search-results",id:"search-results",children:0!==this.state.results.length?Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{className:"results-head",children:"Search Results"}),this.searchResults()]}):""})})]})}}]),s}(i.a.Component);var x=function(){if(null===sessionStorage.getItem("favouriteList")){sessionStorage.setItem("favouriteList",JSON.stringify([]))}var e=JSON.parse(sessionStorage.getItem("favouriteList")),t=0;return Object(m.jsx)("div",{id:"Favs",children:Object(m.jsx)("section",{className:"three",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:"fav-head",children:"Your favourite items are:"}),Object(m.jsx)("div",{className:"search-results",id:"search-results",children:0!==e.length?e.map((function(s){return t+=1,Object(m.jsx)("div",{className:"fav-items-div",children:Object(m.jsx)("section",{className:"favourites",children:Object(m.jsxs)("div",{children:[Object(m.jsx)(O,{id:s.id,kind:s.kind,link:s.link,name:s.name,artistName:s.artistName,imgThumbnail:s.imgThumbnail},s.key),Object(m.jsx)("br",{}),Object(m.jsx)(u.a,{variant:"danger",className:"btn btn-lg btn-info DeleteBtn",onClick:function(s){return function(t){var s=[];s=e.splice(t-1,1),sessionStorage.setItem("favouriteList",JSON.stringify(s)),window.location.reload()}(t)},children:"Delete"})]})})})})):Object(m.jsxs)("h3",{children:["You dont have any favourites at the moment ",Object(m.jsx)("br",{}),"Please select some favourites from the search results."]})})]})})})},f=s.p+"static/media/apple_logo.e288ea4c.png",g=s.p+"static/media/istore.bd16d5c4.png";var p=function(){return Object(m.jsxs)("div",{className:"navbar-div",children:[Object(m.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark",children:[Object(m.jsx)("div",{className:"logo",children:Object(m.jsx)("img",{style:{height:30},src:f,alt:"logo"})}),Object(m.jsxs)("ul",{className:"navbar-nav list-group",children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)("a",{href:"#Home",children:"Home"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)("a",{href:"#Search",children:"Search"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)("a",{href:"#Favs",children:"Favourites"})})]})]}),Object(m.jsx)("img",{src:g,alt:""})]})};var N=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)("div",{className:"holder",children:[Object(m.jsx)("section",{className:"one",id:"Home",children:Object(m.jsx)("header",{className:"App-header",children:Object(m.jsx)(p,{})})}),Object(m.jsx)(v,{}),Object(m.jsx)(x,{})]})})};r.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.81e9b808.chunk.js.map